@model IEnumerable<AppUser>

<h4 class="h-25 m-2 text-center bg-primary text-white">Ползователи</h4>
<a class="btn btn-primary" asp-action="Create">Добавить ползователь</a>
<table class="table table-striped table-sm table-bordered">
    <thead>
        <tr>
            <th>User Name</th><th>Имя</th><th>Фамилия</th><th>Email</th><th>Номер телефона</th>
            <th>Ден рождения</th><th>Серия паспорта</th><th>Номер паспорта</th><th>Обший затрати</th>
            <th>Обший доходи</th><th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var user in Model)
        {
            <tr>
                <td>@user.UserName</td>
                <td>@user.FirstName</td>
                <td>@user.LastName</td>
                <td>@user.Email</td>
                <td>@user.PhoneNumber</td>
                <td>@($"{user.BirthDay.Year}{user.BirthDay.Month}{user.BirthDay.Day}")</td>
                <td>@user.PasportSeriya</td>
                <td>@user.PasportNumber</td>
                <td>@user.Expenses.Sum(e=>e.Amount)</td>
                <td>@user.Incomes.Sum(i=>i.Amount)</td>
                <td>
                    <form asp-action="Delete" asp-route-id="@user.Id">
                        <a asp-action="Edit" asp-route-id="@user.Id" class="btn btn-primary">Редактировать</a>
                        <button type="submit" class="btn btn-outline-danger">Удалит</button>
                    </form>
                </td>
            </tr>
        }
    </tbody>
</table>